import{ap as J,an as Q,r as b,aq as Z,o as B,M as ee,ar as O,ab as I,a9 as A,G as E,ak as H,A as te}from"./CtBPwxmq.js";function X(e){return J()?(Q(e),!0):!1}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,oe=e=>ne.call(e)==="[object Object]",M=()=>{},se=re();function re(){var e,t;return W&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ue(e){let t;function s(){return t||(t=e()),t}return s.reset=async()=>{const n=t;t=void 0,n&&await n},s}function ce(e){return I()}function k(e){return Array.isArray(e)?e:[e]}function le(e,t=!0,s){ce()?B(e,s):t?e():ee(e)}function ae(e,t,s={}){const{immediate:n=!0}=s,r=b(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function c(){r.value=!1,a()}function i(...f){a(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,e(...f)},O(t))}return n&&(r.value=!0,W&&i()),X(c),{isPending:Z(r),start:i,stop:c}}const C=W?window:void 0,$=W?window.navigator:void 0;function T(e){var t;const s=O(e);return(t=s==null?void 0:s.$el)!=null?t:s}function R(...e){let t,s,n,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,r]=e,t=C):[t,s,n,r]=e,!t)return M;s=k(s),n=k(n);const o=[],a=()=>{o.forEach(p=>p()),o.length=0},c=(p,u,d,v)=>(p.addEventListener(u,d,v),()=>p.removeEventListener(u,d,v)),i=A(()=>[T(t),O(r)],([p,u])=>{if(a(),!p)return;const d=oe(u)?{...u}:u;o.push(...s.flatMap(v=>n.map(g=>c(p,v,g,d))))},{immediate:!0,flush:"post"}),f=()=>{i(),a()};return X(f),f}let V=!1;function ye(e,t,s={}){const{window:n=C,ignore:r=[],capture:o=!0,detectIframe:a=!1}=s;if(!n)return M;se&&!V&&(V=!0,Array.from(n.document.body.children).forEach(l=>l.addEventListener("click",M)),n.document.documentElement.addEventListener("click",M));let c=!0;const i=l=>O(r).some(m=>{if(typeof m=="string")return Array.from(n.document.querySelectorAll(m)).some(w=>w===l.target||l.composedPath().includes(w));{const w=T(m);return w&&(l.target===w||l.composedPath().includes(w))}});function f(l){const m=O(l);return m&&m.$.subTree.shapeFlag===16}function p(l,m){const w=O(l),h=w.$.subTree&&w.$.subTree.children;return h==null||!Array.isArray(h)?!1:h.some(x=>x.el===m.target||m.composedPath().includes(x.el))}const u=l=>{const m=T(e);if(l.target!=null&&!(!(m instanceof Element)&&f(e)&&p(e,l))&&!(!m||m===l.target||l.composedPath().includes(m))){if(l.detail===0&&(c=!i(l)),!c){c=!0;return}t(l)}};let d=!1;const v=[R(n,"click",l=>{d||(d=!0,setTimeout(()=>{d=!1},0),u(l))},{passive:!0,capture:o}),R(n,"pointerdown",l=>{const m=T(e);c=!i(l)&&!!(m&&!l.composedPath().includes(m))},{passive:!0}),a&&R(n,"blur",l=>{setTimeout(()=>{var m;const w=T(e);((m=n.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(w!=null&&w.contains(n.document.activeElement))&&t(l)},0)})].filter(Boolean);return()=>v.forEach(l=>l())}function ie(){const e=b(!1),t=I();return t&&B(()=>{e.value=!0},t),e}function Y(e){const t=ie();return E(()=>(t.value,!!e()))}function z(e,t={}){const{controls:s=!1,navigator:n=$}=t,r=Y(()=>n&&"permissions"in n),o=H(),a=typeof e=="string"?{name:e}:e,c=H(),i=()=>{var p,u;c.value=(u=(p=o.value)==null?void 0:p.state)!=null?u:"prompt"};R(o,"change",i);const f=ue(async()=>{if(r.value){if(!o.value)try{o.value=await n.permissions.query(a)}catch{o.value=void 0}finally{i()}if(s)return te(o.value)}});return f(),s?{state:c,isSupported:r,query:f}:c}function be(e={}){const{navigator:t=$,read:s=!1,source:n,copiedDuring:r=1500,legacy:o=!1}=e,a=Y(()=>t&&"clipboard"in t),c=z("clipboard-read"),i=z("clipboard-write"),f=E(()=>a.value||o),p=b(""),u=b(!1),d=ae(()=>u.value=!1,r,{immediate:!1});function v(){a.value&&w(c.value)?t.clipboard.readText().then(h=>{p.value=h}):p.value=m()}f.value&&s&&R(["copy","cut"],v);async function g(h=O(n)){f.value&&h!=null&&(a.value&&w(i.value)?await t.clipboard.writeText(h):l(h),p.value=h,u.value=!0,d.start())}function l(h){const x=document.createElement("textarea");x.value=h??"",x.style.position="absolute",x.style.opacity="0",document.body.appendChild(x),x.select(),document.execCommand("copy"),x.remove()}function m(){var h,x,S;return(S=(x=(h=document==null?void 0:document.getSelection)==null?void 0:h.call(document))==null?void 0:x.toString())!=null?S:""}function w(h){return h==="granted"||h==="prompt"}return{isSupported:f,text:p,copied:u,copy:g}}function fe(e,t,s={}){const{window:n=C,...r}=s;let o;const a=Y(()=>n&&"ResizeObserver"in n),c=()=>{o&&(o.disconnect(),o=void 0)},i=E(()=>{const u=O(e);return Array.isArray(u)?u.map(d=>T(d)):[T(u)]}),f=A(i,u=>{if(c(),a.value&&n){o=new ResizeObserver(t);for(const d of u)d&&o.observe(d,r)}},{immediate:!0,flush:"post"}),p=()=>{c(),f()};return X(p),{isSupported:a,stop:p}}function de(e,t={width:0,height:0},s={}){const{window:n=C,box:r="content-box"}=s,o=E(()=>{var u,d;return(d=(u=T(e))==null?void 0:u.namespaceURI)==null?void 0:d.includes("svg")}),a=b(t.width),c=b(t.height),{stop:i}=fe(e,([u])=>{const d=r==="border-box"?u.borderBoxSize:r==="content-box"?u.contentBoxSize:u.devicePixelContentBoxSize;if(n&&o.value){const v=T(e);if(v){const g=v.getBoundingClientRect();a.value=g.width,c.value=g.height}}else if(d){const v=k(d);a.value=v.reduce((g,{inlineSize:l})=>g+l,0),c.value=v.reduce((g,{blockSize:l})=>g+l,0)}else a.value=u.contentRect.width,c.value=u.contentRect.height},s);le(()=>{const u=T(e);u&&(a.value="offsetWidth"in u?u.offsetWidth:t.width,c.value="offsetHeight"in u?u.offsetHeight:t.height)});const f=A(()=>T(e),u=>{a.value=u?t.width:0,c.value=u?t.height:0});function p(){i(),f()}return{width:a,height:c,stop:p}}const pe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function ve(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:n=!1,initialValue:r={x:0,y:0},window:o=C,target:a=o,scroll:c=!0,eventFilter:i}=e;let f=null,p=0,u=0;const d=b(r.x),v=b(r.y),g=b(null),l=typeof t=="function"?t:pe[t],m=y=>{const P=l(y);f=y,P&&([d.value,v.value]=P,g.value="mouse"),o&&(p=o.scrollX,u=o.scrollY)},w=y=>{if(y.touches.length>0){const P=l(y.touches[0]);P&&([d.value,v.value]=P,g.value="touch")}},h=()=>{if(!f||!o)return;const y=l(f);f instanceof MouseEvent&&y&&(d.value=y[0]+o.scrollX-p,v.value=y[1]+o.scrollY-u)},x=()=>{d.value=r.x,v.value=r.y},S=i?y=>i(()=>m(y),{}):y=>m(y),_=i?y=>i(()=>w(y),{}):y=>w(y),L=i?()=>i(()=>h(),{}):()=>h();if(a){const y={passive:!0};R(a,["mousemove","dragover"],S,y),s&&t!=="movement"&&(R(a,["touchstart","touchmove"],_,y),n&&R(a,"touchend",x,y)),c&&t==="page"&&R(o,"scroll",L,{passive:!0})}return{x:d,y:v,sourceType:g}}function xe(e,t={}){const{handleOutside:s=!0,window:n=C}=t,r=t.type||"page",{x:o,y:a,sourceType:c}=ve(t),i=b(e??(n==null?void 0:n.document.body)),f=b(0),p=b(0),u=b(0),d=b(0),v=b(0),g=b(0),l=b(!0);let m=()=>{};return n&&(m=A([i,o,a],()=>{const w=T(i);if(!w||!(w instanceof Element))return;const{left:h,top:x,width:S,height:_}=w.getBoundingClientRect();u.value=h+(r==="page"?n.pageXOffset:0),d.value=x+(r==="page"?n.pageYOffset:0),v.value=_,g.value=S;const L=o.value-u.value,y=a.value-d.value;l.value=S===0||_===0||L<0||y<0||L>S||y>_,(s||!l.value)&&(f.value=L,p.value=y)},{immediate:!0}),R(document,"mouseleave",()=>{l.value=!0})),{x:o,y:a,sourceType:c,elementX:f,elementY:p,elementPositionX:u,elementPositionY:d,elementHeight:v,elementWidth:g,isOutside:l,stop:m}}function Te(e,t){const{containerStyle:s,wrapperProps:n,scrollTo:r,calculateRange:o,currentList:a,containerRef:c}="itemHeight"in t?ge(t,e):he(t,e);return{list:a,scrollTo:r,containerProps:{ref:c,onScroll:()=>{o()},style:s},wrapperProps:n}}function G(e){const t=b(null),s=de(t),n=b([]),r=H(e);return{state:b({start:0,end:10}),source:r,currentList:n,size:s,containerRef:t}}function F(e,t,s){return n=>{if(typeof s=="number")return Math.ceil(n/s);const{start:r=0}=e.value;let o=0,a=0;for(let c=r;c<t.value.length;c++){const i=s(c);if(o+=i,a=c,o>n)break}return a-r}}function j(e,t){return s=>{if(typeof t=="number")return Math.floor(s/t)+1;let n=0,r=0;for(let o=0;o<e.value.length;o++){const a=t(o);if(n+=a,n>=s){r=o;break}}return r+1}}function q(e,t,s,n,{containerRef:r,state:o,currentList:a,source:c}){return()=>{const i=r.value;if(i){const f=s(e==="vertical"?i.scrollTop:i.scrollLeft),p=n(e==="vertical"?i.clientHeight:i.clientWidth),u=f-t,d=f+p+t;o.value={start:u<0?0:u,end:d>c.value.length?c.value.length:d},a.value=c.value.slice(o.value.start,o.value.end).map((v,g)=>({data:v,index:g+o.value.start}))}}}function D(e,t){return s=>typeof e=="number"?s*e:t.value.slice(0,s).reduce((r,o,a)=>r+e(a),0)}function N(e,t,s,n){A([e.width,e.height,t,s],()=>{n()})}function U(e,t){return E(()=>typeof e=="number"?t.value.length*e:t.value.reduce((s,n,r)=>s+e(r),0))}const me={horizontal:"scrollLeft",vertical:"scrollTop"};function K(e,t,s,n){return r=>{n.value&&(n.value[me[e]]=s(r),t())}}function he(e,t){const s=G(t),{state:n,source:r,currentList:o,size:a,containerRef:c}=s,i={overflowX:"auto"},{itemWidth:f,overscan:p=5}=e,u=F(n,r,f),d=j(r,f),v=q("horizontal",p,d,u,s),g=D(f,r),l=E(()=>g(n.value.start)),m=U(f,r);N(a,t,c,v);const w=K("horizontal",v,g,c),h=E(()=>({style:{height:"100%",width:`${m.value-l.value}px`,marginLeft:`${l.value}px`,display:"flex"}}));return{scrollTo:w,calculateRange:v,wrapperProps:h,containerStyle:i,currentList:o,containerRef:c}}function ge(e,t){const s=G(t),{state:n,source:r,currentList:o,size:a,containerRef:c}=s,i={overflowY:"auto"},{itemHeight:f,overscan:p=5}=e,u=F(n,r,f),d=j(r,f),v=q("vertical",p,d,u,s),g=D(f,r),l=E(()=>g(n.value.start)),m=U(f,r);N(a,t,c,v);const w=K("vertical",v,g,c),h=E(()=>({style:{width:"100%",height:`${m.value-l.value}px`,marginTop:`${l.value}px`}}));return{calculateRange:v,scrollTo:w,containerStyle:i,wrapperProps:h,currentList:o,containerRef:c}}export{Te as a,be as b,ye as o,xe as u};
